# State pattern

![State pattern diagram](state.gif)

---

### Цел

Позволява един обект да промени поведението си при промяна на текущото състояние. 

---

### Приложения

Може да използвате шаблона Състояние (State) ако:

* Даден обект има сравнително малък на брой състояния като в даден момент може да бъде само в едно от тях и трябва да се извършват преходи от едно състояние в друго по време на изпълнението вашата програмата. 

* Всяка операция на този обект съдържа логика за разклонение чрез използването на оператор за условен преход (if, switch) като моментното състояние се описва чрез на една или повече локални променливи и техните текущи стойности. Често едно и също разклонение се среща в повече от една операция на този обект.  


---

### Оценка

Особености на шаблона:

1.	Различните поведения се отделят в един клас за всяко състояние като по този начин всяко състояние има „обектен“ статус. От една страна се губи монолитността на архитектурата чрез използване на много конкретни класове, но от друга се избягва използването на тежка група от логически оператори за преход в кода на контекста. 

2.	Използването на класове прави текущото състояние още по видимо спрямо използването на локални променливи. Допълнително предимство е също, че обекта не може да изпадне в невалидно състояние - например, ако състоянието се описва от група променливи и някоя комбинация от стойности не е валидно състояние.  

3.	Ако класовете представящи конкретни състояния нямат полета то състоянията могат да се преизползват (Flyweight). 

